# ------------------------------------------------------------------------------
# OraDBA - Oracle Database Infrastructure and Security, 5630 Muri, Switzerland
# ------------------------------------------------------------------------------
# Name.......: oradba_core.conf
# Author.....: Stefan Oehrli (oes) stefan.oehrli@oradba.ch
# Editor.....: Stefan Oehrli
# Date.......: 2025.12.16
# Revision...: 0.5.0
# Purpose....: Core system configuration for OraDBA (paths, installation, behavior)
# Notes......: Read-only core config. Override in oradba_customer.conf or sid.*.conf
# Reference..: https://github.com/oehrlis/oradba
# License....: Apache License Version 2.0, January 2004 as shown
#              at http://www.apache.org/licenses/
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Core System Settings
# ------------------------------------------------------------------------------

# Installation prefix (base directory for OraDBA installation)
ORADBA_PREFIX="${ORADBA_PREFIX:-/opt/oradba}"

# Subdirectories
ORADBA_CONFIG_DIR="${ORADBA_CONFIG_DIR:-${ORADBA_PREFIX}/etc}"
ORADBA_ETC="${ORADBA_CONFIG_DIR}"  # Alias for compatibility
ORADBA_LOG="${ORADBA_LOG:-${ORADBA_PREFIX}/log}"
ORADBA_TEMP="${ORADBA_TEMP:-${ORADBA_PREFIX}/tmp}"

# Default oratab location
ORATAB_FILE="${ORATAB_FILE:-/etc/oratab}"

# Alternative oratab locations to check
ORATAB_ALTERNATIVES=(
    "/etc/oratab"
    "/var/opt/oracle/oratab"
    "${HOME}/.oratab"
)

# ------------------------------------------------------------------------------
# Core Behavior Settings
# ------------------------------------------------------------------------------

# Debug mode (0=off, 1=on)
DEBUG="${DEBUG:-0}"

# Load aliases and functions (true/false)
ORADBA_LOAD_ALIASES="${ORADBA_LOAD_ALIASES:-true}"

# Load database status on environment switch (true/false)
ORADBA_SHOW_DB_STATUS="${ORADBA_SHOW_DB_STATUS:-true}"

# Auto-create SID configuration files (true/false)
ORADBA_AUTO_CREATE_SID_CONFIG="${ORADBA_AUTO_CREATE_SID_CONFIG:-true}"

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------

# Log directory
LOG_DIR="${LOG_DIR:-${ORADBA_PREFIX}/logs}"

# Log level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL="${LOG_LEVEL:-INFO}"

# ------------------------------------------------------------------------------
# Directory Paths
# ------------------------------------------------------------------------------

# Backup and recovery directories
BACKUP_DIR="${BACKUP_DIR:-/backup}"
RECOVERY_DIR="${RECOVERY_DIR:-${ORADBA_PREFIX}/rcv}"

# ------------------------------------------------------------------------------
# System Commands
# ------------------------------------------------------------------------------

# ps command with wide output
ORADBA_PS="${ORADBA_PS:-ps -ef}"  # Use 'ps -ef -www' for extra wide output
