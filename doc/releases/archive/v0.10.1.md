# üîß OraDBA v0.10.1 - Validation Fix

**Release Date:** January 2, 2026  
**Type:** Patch Release

Quick patch release fixing validation script issues and updating configuration documentation.

## üêõ What's Fixed

### Validation Script (oradba_validate.sh)

**Fixed oraenv.sh Syntax Check:**

- Previously tried to `source oraenv.sh --help` which failed
- Now uses `bash -n` to properly check bash syntax without execution
- Validation now correctly passes for valid installations

**Updated Configuration File Checks:**

- Changed from outdated `sid.ORACLE_SID.conf.example` to current `sid.ORCL.conf.example`
- Added check for `oradba_services.conf` (new in v0.10.0)
- Made `README.md` check optional (lives in project root, not src/)

**Added Service Management Validation:**

- Now checks for `oradba_dbctl.sh` (database lifecycle management)
- Now checks for `oradba_lsnrctl.sh` (listener management)
- Now checks for `oradba_services.sh` (orchestrated service control)

**Updated Metadata:**

- Revision updated to 0.10.0 to match current release

### Documentation

**Configuration Hierarchy Diagram:**

- Updated `doc/images/config-hierarchy.png` to reflect current system
- Updated `doc/images/source/config-hierarchy.excalidraw` source file
- Diagram now accurately shows the 5-level configuration override system

## ‚úÖ Validation Script Now Checks

### Required Components

- OraDBA directory structure (bin/, etc/, lib/, doc/, sql/)
- Core scripts (oraenv.sh, oradba_version.sh, dbstatus.sh)
- Library files (common.sh, aliases.sh, db_functions.sh)
- Configuration files (oradba_core.conf, oradba_standard.conf, sid._DEFAULT_.conf)
- Documentation files (alias_help.txt, 06-aliases.md, 05-configuration.md)
- SQL files (login.sql, db_info.sql)
- **Bash syntax validation** for oraenv.sh

### Optional Components (v0.10.0 Service Management)

- oradba_dbctl.sh (database control)
- oradba_lsnrctl.sh (listener control)
- oradba_services.sh (service orchestration)
- oradba_services.conf (service configuration)
- sid.ORCL.conf.example (example SID configuration)

### Oracle Environment (Optional)

- ORACLE_HOME, ORACLE_BASE, ORACLE_SID variables
- oratab file existence
- sqlplus command availability

## üìä Changes Summary

| File                          | Change  | Description                        |
|-------------------------------|---------|------------------------------------|
| `oradba_validate.sh`          | Fixed   | Proper oraenv.sh syntax validation |
| `oradba_validate.sh`          | Updated | Service management script checks   |
| `oradba_validate.sh`          | Updated | Current config file naming         |
| `config-hierarchy.png`        | Updated | Diagram reflects current system    |
| `config-hierarchy.excalidraw` | Updated | Diagram source file                |
| `VERSION`                     | Updated | 0.10.0 ‚Üí 0.10.1                    |
| `CHANGELOG.md`                | Updated | Patch release notes                |

**Total Changes:** 5 files modified

## üöÄ Installation

### Upgrade from v0.10.0

```bash
# Download new installer
curl -L -o oradba_install.sh \
  https://github.com/oehrlis/oradba/releases/download/v0.10.1/oradba_install.sh

# Update existing installation
chmod +x oradba_install.sh
./oradba_install.sh --update --local oradba_install.sh
```

### Fresh Installation

```bash
# Download and install
curl -L -o oradba_install.sh \
  https://github.com/oehrlis/oradba/releases/download/v0.10.1/oradba_install.sh
chmod +x oradba_install.sh
./oradba_install.sh

# Or with custom prefix
./oradba_install.sh --prefix /opt/oradba
```

## ‚ú® Validation Usage

After installation or upgrade, validate your setup:

```bash
# Run validation
/opt/oradba/bin/oradba_validate.sh

# Verbose output (see all tests)
/opt/oradba/bin/oradba_validate.sh --verbose
```

**Expected Output:**

```text
[OK] OraDBA installation is valid!

Total Tests:     35
Passed:          32
Warnings:        3 (optional components)
```

## üîó Compatibility

- **Requires:** Bash 4.0+
- **Compatible with:** v0.10.0 (drop-in replacement)
- **Oracle Versions:** 11g, 12c, 18c, 19c, 21c, 23ai
- **Operating Systems:** Linux, Unix, macOS

## üì¶ Download Assets

- **Installer:** [oradba_install.sh](https://github.com/oehrlis/oradba/releases/download/v0.10.1/oradba_install.sh)
- **Tarball:** [oradba-0.10.1.tar.gz](https://github.com/oehrlis/oradba/releases/download/v0.10.1/oradba-0.10.1.tar.gz)
- **User Guide (PDF):** [oradba-user-guide.pdf](https://github.com/oehrlis/oradba/releases/download/v0.10.1/oradba-user-guide.pdf)
- **User Guide (HTML):** [oradba-user-guide.html](https://github.com/oehrlis/oradba/releases/download/v0.10.1/oradba-user-guide.html)

## üìù Notes

This is a **maintenance release** that fixes validation issues introduced by the
new service management features in v0.10.0. If you're running v0.10.0 and
encountering validation errors, upgrade to v0.10.1.

**No functional changes** to OraDBA features - all v0.10.0 functionality remains unchanged.

## üîÑ What's in v0.10.0

If upgrading from v0.9.x, see [v0.10.0 Release Notes](https://github.com/oehrlis/oradba/releases/tag/v0.10.0) for:

- Enterprise-grade Oracle service management
- Smart test selection (67% faster testing)
- 11 updated diagrams
- systemd and init.d integration
- 11 new service management aliases

## üìä Statistics

- **Tests:** All 492 passing
- **Linting:** All checks passing
- **Build Time:** ~8-10 minutes (full test suite)
- **Files Changed:** 5 files

## üôè Support

- **Issues:** [GitHub Issues](https://github.com/oehrlis/oradba/issues)
- **Documentation:** [User Guide](https://github.com/oehrlis/oradba/blob/v0.10.1/README.md)
- **Changelog:** [CHANGELOG.md](https://github.com/oehrlis/oradba/blob/v0.10.1/CHANGELOG.md)

## üìù License

Apache License Version 2.0 - See [LICENSE](LICENSE) for details

**Full Changelog**: <https://github.com/oehrlis/oradba/compare/v0.10.0...v0.10.1>
