# Release Notes v0.20.3

**Release Date:** 2026-02-10  
**Type:** Patch Release (Environment and Data Safe Status)

## Overview

Version 0.20.3 improves environment switching behavior for non-Data Safe
products and expands Data Safe status output to include connector-specific
details like Java home, status, and CMAN port. It also consolidates library
path usage and updates docs and tests to align with the new layout rules.

## âœ… Fixed

- **TNS_ADMIN Reset on Env Switch**
  - Non-Data Safe environments now reapply config/default `TNS_ADMIN` after loading configs
  - Prevents Data Safe connector paths from persisting when switching to DB/client/java homes

- **Data Safe Status Output**
  - oraenv status now includes Data Safe install dir, Java home, and status
  - Maps running connector status to `OPEN` for consistent status output
  - Adds CMAN port extraction from `cman.ora`

- **Library Path Resolution**
  - Normalized runtime plugin/library sourcing to `${ORADBA_BASE}/lib/...`
  - Ensures repo and installed layouts resolve libraries consistently

## ðŸ”„ Changed

- **Tooling and Tests**
  - Updated smart test selection to skip manual-only scripts
  - Adjusted tests to use repo `src` as `ORADBA_BASE` and source libraries via `lib/`

- **Documentation and Templates**
  - Documented library path rule and Data Safe status output updates
  - Added `ORADBA_TNS_ADMIN` override example to customer config template

## Files Updated

- `VERSION`
- `CHANGELOG.md`
- `doc/releases/v0.20.3.md`
- `src/bin/oraenv.sh`
- `src/bin/oradba_env.sh`
- `src/lib/oradba_db_functions.sh`
- `src/templates/etc/oradba_customer.conf.example`
- `src/doc/environment.md`
- `src/doc/advanced-configuration.md`
- `tests/*` (test path normalization updates)

## Upgrade Notes

No breaking changes. Update and run your usual installation or sync process.
