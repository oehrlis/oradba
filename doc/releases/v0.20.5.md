# Release Notes v0.20.5

**Release Date:** 2026-02-10  
**Type:** Patch Release (Performance and Data Safe Operations)

## Overview

Version 0.20.5 improves Data Safe connector status performance with cached
process detection and parallel checks, and fixes connector operations to
reliably set connector-specific environment variables.

## ➕ Added

- **Performance: Parallel Status Checks & Batch Process Detection**
  - Implemented parallel status checks for DataSafe connectors (background jobs with result collection)
  - Added batch process detection: single `ps -ef` call at start, reused for all checks
  - Added `get_process_list()` helper function to cache process list
  - Added `ORADBA_CACHED_PS` environment variable to pass cached process list to plugins
  - Updated `get_db_status()` to accept optional cached process list
  - Updated `get_listener_status()` to accept optional cached process list
  - Updated `should_show_listener_section()` to use cached process list
  - Updated `datasafe_plugin.sh` to use `ORADBA_CACHED_PS` when available
  - **Performance Impact**: ~3x faster for 5 DataSafe connectors (from ~1.5s to ~0.5s)
  - **Before**: 13+ ps -ef calls (sequential checks)
  - **After**: 1 ps -ef call + parallel background jobs
  - Added 7 new tests to verify optimization features (32 total tests pass)

## ✅ Fixed

- **oradba_dsctl.sh Environment Setup**
  - Added `setup_connector_environment()` function to automatically set connector-specific environment
  - Each connector now gets proper ORACLE_HOME, LD_LIBRARY_PATH, TNS_ADMIN, and DATASAFE_HOME before operations
  - Fixed issue where operations failed unless user manually ran `. oraenv.sh <connector>` first
  - Fixed batch operations where only first connector was handled correctly
  - All connector operations (start/stop/restart/status) now work regardless of current shell environment
  - Resolves issues #187 and #185 patterns for multi-connector operations

## Upgrade Notes

No breaking changes. Update and run your usual installation or sync process.
